#!/usr/bin/env bash
# Project:     Docker Magento
# Description: Project CLI tool for running Docker Magento.
# Author:      Rye Miller
#
# Version: 0.1 [2020-11-22]
# Copyright: Copyright (c) 2020, Rye Miller

TEXT_PRIMARY=
TEXT_SECONDARY=
TEXT_LIGHT=
TEXT_DARK=
TEXT_WARNING=
TEXT_ERROR=
TEXT_CLEAR=

# Setup & Configuration
# ---------------------------------------------------------------------------- #

DOCKER_MAGENTO_PATH=$(cd "$(dirname "${BASH_SOURCE[0]}")" >/dev/null 2>&1 && pwd)

exec()
{
    docker-compose exec phpfpm "$@"
}

exec:root()
{
    docker-compose exec -u root phpfpm "$@"
}

exec:notty()
{
    docker-compose exec -T phpfpm "$@"
}

exec:notty:root()
{
    docker-compose exec -u root -T phpfpm "$@"
}

start()
{
    docker-compose up -d
}

environment:check()
{
    source ./lib/config_detect-os.sh
    source ./lib/composer_auth-check.sh
}

environment:create()
{
    source ./config/env/app.env
    environment:check
    source ./lib/composer_create-project.sh
}

stop()
{
    docker-compose down -v
}

"$@"
